# 실시간 서버 Cpp로 컨버팅 계획 및 개념

## 개요
- C++20의 **Modules**와 **정적 다형성**을 활용하여 [RTW-Server](https://github.com/oak-cassia/RTW-Server)의 실시간 서버를 C#에서 C++로 컨버팅
- 정적 다형성과 C++20의 Modules 개념이 흥미로워 직접 적용해보기로 결정

## 개념 정리

### 정적 다형성이란?
- 대부분의 언어에서는 **인터페이스(Interface)와 클래스(Class)** 를 통해 다형성을 구현
- C++에서도 **추상 클래스(Abstract Class)와 가상 함수(Virtual Function)** 를 사용하여 다형성 구현 가능
- 그러나 **런타임 오버헤드** 발생
    - 실행 중 실제 객체의 함수를 호출하려면 **실제 구현을 찾아야 함**
    - 상속 관계에서 여러 개의 구현이 가능하므로 **vtable(가상 함수 테이블)** 사용
    - 객체의 첫 메모리 주소에 vtable이 저장되며, 이를 통해 실제 함수 호출
    - 메모리 측면:
        - 클래스마다 **vtable 포인터(8바이트 정도) 오버헤드** 발생
        - 각 객체마다 **포인터 크기(8바이트 정도) 오버헤드** 발생
    - 속도 측면:
        - **약 25% 내외의 성능 저하**
        - 동일 객체에 대해 반복 호출하면 성능이 최적화됨 (출처: *A Tour of C++*, Bjarne Stroustrup)

> **RTTI (Run-Time Type Information) 및 `dynamic_cast` 도 동일한 원리로 동작**

- 이번 프로젝트는 **최고 성능의 서버를 만드는 것이 목적이 아님**
- 정적 다형성 개념이 흥미로워 직접 적용해보고자 함  
